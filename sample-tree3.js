function init(){
    var json = [
    {
        "adjacencies": [
            {
                "data": {},
                "nodeTo": "306208_1"
            }
        ],
        "data": {
            "band": "Pearl Jam &amp; Cypress Hill",
            "relation": "collaboration"
        },
        "id": "84_2",
        "name": "Cypress Hill"
    },
    {
        "adjacencies": [
            {
                "data": {},
                "nodeTo": "84_2"
            },
            {
                "data": {"$color": "#fff"},
                "nodeTo": "190_0"
            }
        ],
        "data": {
            "$color": "#f00",
            "$lineWidth": 10,
            "band": "Pearl Jam",
            "relation": "collaboration"
        },
        "id": "306208_1",
        "name": "Pearl Jam &amp; Cypress Hill"
    },
    {
        "adjacencies": [
            {
                "data": {},
                "nodeTo": "107877_3"
            }
        ],
        "data": {
            "band": "Neil Young &amp; Pearl Jam",
            "relation": "collaboration"
        },
        "id": "964_4",
        "name": "Neil Young"
    },
    {
        "adjacencies": [
            {
                "data": {},
                "nodeTo": "964_4"
            },
            {
                "data": {},
                "nodeTo": "190_0"
            }
        ],
        "data": {
            "band": "Pearl Jam",
            "relation": "collaboration"
        },
        "id": "107877_3",
        "name": "Neil Young &amp; Pearl Jam"
    },
    {
        "adjacencies": [
            {
                "data": {},
                "nodeTo": "236797_5"
            }
        ],
        "data": {
            "band": "Jeff Ament",
            "relation": "member of band"
        },
        "id": "1756_6",
        "name": "Temple of the Dog"
    },
    {
        "adjacencies": [
            {
                "data": {},
                "nodeTo": "236797_5"
            }
        ],
        "data": {
            "band": "Jeff Ament",
            "relation": "member of band"
        },
        "id": "14581_7",
        "name": "Mother Love Bone"
    },
    {
        "adjacencies": [
            {
                "data": {},
                "nodeTo": "236797_5"
            }
        ],
        "data": {
            "band": "Jeff Ament",
            "relation": "member of band"
        },
        "id": "50188_8",
        "name": "Green River"
    },
    {
        "adjacencies": [
            {
                "data": {},
                "nodeTo": "236797_5"
            }
        ],
        "data": {
            "band": "Jeff Ament",
            "relation": "collaboration"
        },
        "id": "65452_9",
        "name": "M.A.C.C."
    },
    {
        "adjacencies": [
            {
                "data": {},
                "nodeTo": "236797_5"
            }
        ],
        "data": {
            "band": "Jeff Ament",
            "relation": "member of band"
        },
        "id": "115632_10",
        "name": "Three Fish"
    },
    {
        "adjacencies": [
            {
                "data": {},
                "nodeTo": "236797_5"
            }
        ],
        "data": {
            "band": "Jeff Ament",
            "relation": "member of band"
        },
        "id": "346850_11",
        "name": "Gossman Project"
    },
    {
        "adjacencies": [
            {
                "data": {},
                "nodeTo": "1756_6"
            },
            {
                "data": {},
                "nodeTo": "14581_7"
            },
            {
                "data": {},
                "nodeTo": "50188_8"
            },
            {
                "data": {},
                "nodeTo": "65452_9"
            },
            {
                "data": {},
                "nodeTo": "115632_10"
            },
            {
                "data": {},
                "nodeTo": "346850_11"
            },
            {
                "data": {},
                "nodeTo": "190_0"
            }
        ],
        "data": {
            "band": "Pearl Jam",
            "relation": "member of band"
        },
        "id": "236797_5",
        "name": "Jeff Ament"
    },
    {
        "adjacencies": [
            {
                "data": {},
                "nodeTo": "41529_12"
            }
        ],
        "data": {
            "band": "Stone Gossard",
            "relation": "member of band"
        },
        "id": "1756_13",
        "name": "Temple of the Dog"
    },
    {
        "adjacencies": [
            {
                "data": {},
                "nodeTo": "41529_12"
            }
        ],
        "data": {
            "band": "Stone Gossard",
            "relation": "member of band"
        },
        "id": "14581_14",
        "name": "Mother Love Bone"
    },
    {
        "adjacencies": [
            {
                "data": {},
                "nodeTo": "41529_12"
            }
        ],
        "data": {
            "band": "Stone Gossard",
            "relation": "member of band"
        },
        "id": "24119_15",
        "name": "Brad"
    },
    {
        "adjacencies": [
            {
                "data": {},
                "nodeTo": "41529_12"
            }
        ],
        "data": {
            "band": "Stone Gossard",
            "relation": "member of band"
        },
        "id": "50188_16",
        "name": "Green River"
    },
    {
        "adjacencies": [
            {
                "data": {},
                "nodeTo": "41529_12"
            }
        ],
        "data": {
            "band": "Stone Gossard",
            "relation": "member of band"
        },
        "id": "346850_17",
        "name": "Gossman Project"
    },
    {
        "adjacencies": [
            {
                "data": {},
                "nodeTo": "1756_13"
            },
            {
                "data": {},
                "nodeTo": "14581_14"
            },
            {
                "data": {},
                "nodeTo": "24119_15"
            },
            {
                "data": {},
                "nodeTo": "50188_16"
            },
            {
                "data": {},
                "nodeTo": "346850_17"
            },
            {
                "data": {},
                "nodeTo": "190_0"
            }
        ],
        "data": {
            "band": "Pearl Jam",
            "relation": "member of band"
        },
        "id": "41529_12",
        "name": "Stone Gossard"
    },
    {
        "adjacencies": [
            {
                "data": {},
                "nodeTo": "131161_18"
            }
        ],
        "data": {
            "band": "Eddie Vedder",
            "relation": "member of band"
        },
        "id": "1756_19",
        "name": "Temple of the Dog"
    },
    {
        "adjacencies": [
            {
                "data": {},
                "nodeTo": "131161_18"
            }
        ],
        "data": {
            "band": "Eddie Vedder",
            "relation": "collaboration"
        },
        "id": "72007_20",
        "name": "Eddie Vedder &amp; Zeke"
    },
    {
        "adjacencies": [
            {
                "data": {},
                "nodeTo": "131161_18"
            }
        ],
        "data": {
            "band": "Eddie Vedder",
            "relation": "member of band"
        },
        "id": "236657_21",
        "name": "Bad Radio"
    },
    {
        "adjacencies": [
            {
                "data": {},
                "nodeTo": "131161_18"
            }
        ],
        "data": {
            "band": "Eddie Vedder",
            "relation": "collaboration"
        },
        "id": "432176_22",
        "name": "Beck &amp; Eddie Vedder"
    },
    {
        "adjacencies": [
            {
                "data": {},
                "nodeTo": "1756_19"
            },
            {
                "data": {},
                "nodeTo": "72007_20"
            },
            {
                "data": {},
                "nodeTo": "236657_21"
            },
            {
                "data": {},
                "nodeTo": "432176_22"
            },
            {
                "data": {},
                "nodeTo": "190_0"
            }
        ],
        "data": {
            "band": "Pearl Jam",
            "relation": "member of band"
        },
        "id": "131161_18",
        "name": "Eddie Vedder"
    },
    {
        "adjacencies": [
            {
                "data": {},
                "nodeTo": "236583_23"
            }
        ],
        "data": {
            "band": "Mike McCready",
            "relation": "member of band"
        },
        "id": "1744_24",
        "name": "Mad Season"
    },
    {
        "adjacencies": [
            {
                "data": {},
                "nodeTo": "236583_23"
            }
        ],
        "data": {
            "band": "Mike McCready",
            "relation": "member of band"
        },
        "id": "1756_25",
        "name": "Temple of the Dog"
    },
    {
        "adjacencies": [
            {
                "data": {},
                "nodeTo": "236583_23"
            }
        ],
        "data": {
            "band": "Mike McCready",
            "relation": "collaboration"
        },
        "id": "43661_26",
        "name": "$10,000 Gold Chain"
    },
    {
        "adjacencies": [
            {
                "data": {},
                "nodeTo": "236583_23"
            }
        ],
        "data": {
            "band": "Mike McCready",
            "relation": "collaboration"
        },
        "id": "65452_27",
        "name": "M.A.C.C."
    },
    {
        "adjacencies": [
            {
                "data": {},
                "nodeTo": "236583_23"
            }
        ],
        "data": {
            "band": "Mike McCready",
            "relation": "member of band"
        },
        "id": "153766_28",
        "name": "The Rockfords"
    },
    {
        "adjacencies": [
            {
                "data": {},
                "nodeTo": "236583_23"
            }
        ],
        "data": {
            "band": "Mike McCready",
            "relation": "member of band"
        },
        "id": "346850_29",
        "name": "Gossman Project"
    },
    {
        "adjacencies": [
            {
                "data": {},
                "nodeTo": "1744_24"
            },
            {
                "data": {},
                "nodeTo": "1756_25"
            },
            {
                "data": {},
                "nodeTo": "43661_26"
            },
            {
                "data": {},
                "nodeTo": "65452_27"
            },
            {
                "data": {},
                "nodeTo": "153766_28"
            },
            {
                "data": {},
                "nodeTo": "236585_30"
            },
            {
                "data": {},
                "nodeTo": "346850_29"
            },
            {
                "data": {},
                "nodeTo": "190_0"
            }
        ],
        "data": {
            "band": "Pearl Jam",
            "relation": "member of band"
        },
        "id": "236583_23",
        "name": "Mike McCready"
    },
    {
        "adjacencies": [
            {
                "data": {},
                "nodeTo": "236585_30"
            }
        ],
        "data": {
            "band": "Matt Cameron",
            "relation": "member of band"
        },
        "id": "1111_31",
        "name": "Soundgarden"
    },
    {
        "adjacencies": [
            {
                "data": {},
                "nodeTo": "236585_30"
            }
        ],
        "data": {
            "band": "Matt Cameron",
            "relation": "member of band"
        },
        "id": "1756_32",
        "name": "Temple of the Dog"
    },
    {
        "adjacencies": [
            {
                "data": {},
                "nodeTo": "236585_30"
            }
        ],
        "data": {
            "band": "Matt Cameron",
            "relation": "supporting musician"
        },
        "id": "9570_33",
        "name": "Eleven"
    },
    {
        "adjacencies": [
            {
                "data": {},
                "nodeTo": "236585_30"
            }
        ],
        "data": {
            "band": "Matt Cameron",
            "relation": "member of band"
        },
        "id": "11783_34",
        "name": "Queens of the Stone Age"
    },
    {
        "adjacencies": [
            {
                "data": {},
                "nodeTo": "236585_30"
            }
        ],
        "data": {
            "band": "Matt Cameron",
            "relation": "member of band"
        },
        "id": "61972_35",
        "name": "Wellwater Conspiracy"
    },
    {
        "adjacencies": [
            {
                "data": {},
                "nodeTo": "236585_30"
            }
        ],
        "data": {
            "band": "Matt Cameron",
            "relation": "collaboration"
        },
        "id": "65452_36",
        "name": "M.A.C.C."
    },
    {
        "adjacencies": [
            {
                "data": {},
                "nodeTo": "236585_30"
            }
        ],
        "data": {
            "band": "Matt Cameron",
            "relation": "member of band"
        },
        "id": "353097_37",
        "name": "Tone Dogs"
    },
    {
        "adjacencies": [
            {
                "data": {},
                "nodeTo": "1111_31"
            },
            {
                "data": {},
                "nodeTo": "1756_32"
            },
            {
                "data": {},
                "nodeTo": "4619_46"
            },
            {
                "data": {},
                "nodeTo": "9570_33"
            },
            {
                "data": {},
                "nodeTo": "11783_34"
            },
            {
                "data": {},
                "nodeTo": "61972_35"
            },
            {
                "data": {},
                "nodeTo": "65452_36"
            },
            {
                "data": {},
                "nodeTo": "353097_37"
            },
            {
                "data": {},
                "nodeTo": "190_0"
            },
            {
                "data": {},
                "nodeTo": "236583_23"
            }
        ],
        "data": {
            "band": "Pearl Jam",
            "relation": "member of band"
        },
        "id": "236585_30",
        "name": "Matt Cameron"
    },
    {
        "adjacencies": [
            {
                "data": {},
                "nodeTo": "236594_38"
            }
        ],
        "data": {
            "band": "Dave Krusen",
            "relation": "member of band"
        },
        "id": "2092_39",
        "name": "Candlebox"
    },
    {
        "adjacencies": [
            {
                "data": {},
                "nodeTo": "2092_39"
            },
            {
                "data": {},
                "nodeTo": "190_0"
            }
        ],
        "data": {
            "band": "Pearl Jam",
            "relation": "member of band"
        },
        "id": "236594_38",
        "name": "Dave Krusen"
    },
    {
        "adjacencies": [
            {
                "data": {},
                "nodeTo": "236022_40"
            }
        ],
        "data": {
            "band": "Matt Chamberlain",
            "relation": "member of band"
        },
        "id": "54761_41",
        "name": "Critters Buggin"
    },
    {
        "adjacencies": [
            {
                "data": {},
                "nodeTo": "236022_40"
            }
        ],
        "data": {
            "band": "Matt Chamberlain",
            "relation": "member of band"
        },
        "id": "92043_42",
        "name": "Edie Brickell and New Bohemians"
    },
    {
        "adjacencies": [
            {
                "data": {},
                "nodeTo": "54761_41"
            },
            {
                "data": {},
                "nodeTo": "92043_42"
            },
            {
                "data": {},
                "nodeTo": "190_0"
            }
        ],
        "data": {
            "band": "Pearl Jam",
            "relation": "member of band"
        },
        "id": "236022_40",
        "name": "Matt Chamberlain"
    },
    {
        "adjacencies": [
            {
                "data": {},
                "nodeTo": "236611_43"
            }
        ],
        "data": {
            "band": "Dave Abbruzzese",
            "relation": "member of band"
        },
        "id": "276933_44",
        "name": "Green Romance Orchestra"
    },
    {
        "adjacencies": [
            {
                "data": {},
                "nodeTo": "276933_44"
            },
            {
                "data": {},
                "nodeTo": "190_0"
            }
        ],
        "data": {
            "band": "Pearl Jam",
            "relation": "member of band"
        },
        "id": "236611_43",
        "name": "Dave Abbruzzese"
    },
    {
        "adjacencies": [
            {
                "data": {},
                "nodeTo": "236612_45"
            },
            {
                "data": {},
                "nodeTo": "236585_30"
            },
        ],
        "data": {
            "band": "Jack Irons",
            "relation": "member of band"
        },
        "id": "4619_46",
        "name": "Redd Kross"
    },
    {
        "adjacencies": [
            {
                "data": {},
                "nodeTo": "236612_45"
            }
        ],
        "data": {
            "band": "Jack Irons",
            "relation": "member of band"
        },
        "id": "9570_47",
        "name": "Eleven"
    },
    {
        "adjacencies": [
            {
                "data": {},
                "nodeTo": "236612_45"
            }
        ],
        "data": {
            "band": "Jack Irons",
            "relation": "member of band"
        },
        "id": "12389_48",
        "name": "Red Hot Chili Peppers"
    },
    {
        "adjacencies": [
            {
                "data": {},
                "nodeTo": "236612_45"
            }
        ],
        "data": {
            "band": "Jack Irons",
            "relation": "member of band"
        },
        "id": "114288_49",
        "name": "Anthym"
    },
    {
        "adjacencies": [
            {
                "data": {},
                "nodeTo": "236612_45"
            }
        ],
        "data": {
            "band": "Jack Irons",
            "relation": "member of band"
        },
        "id": "240013_50",
        "name": "What Is This?"
    },
    {
        "adjacencies": [
            {
                "data": {},
                "nodeTo": "4619_46"
            },
            {
                "data": {},
                "nodeTo": "9570_47"
            },
            {
                "data": {},
                "nodeTo": "12389_48"
            },
            {
                "data": {},
                "nodeTo": "114288_49"
            },
            {
                "data": {},
                "nodeTo": "240013_50"
            },
            {
                "data": {},
                "nodeTo": "190_0"
            }
        ],
        "data": {
            "band": "Pearl Jam",
            "relation": "member of band"
        },
        "id": "236612_45",
        "name": "Jack Irons"
    },
    {
        "adjacencies": [
            {
                "data": {"$color": "#fff"},
                "nodeTo": "306208_1"
            },
            {
                "data": {},
                "nodeTo": "107877_3"
            },
            {
                "data": {},
                "nodeTo": "236797_5"
            },
            {
                "data": {},
                "nodeTo": "41529_12"
            },
            {
                "data": {},
                "nodeTo": "131161_18"
            },
            {
                "data": {},
                "nodeTo": "236583_23"
            },
            {
                "data": {},
                "nodeTo": "236585_30"
            },
            {
                "data": {},
                "nodeTo": "236594_38"
            },
            {
                "data": {},
                "nodeTo": "236022_40"
            },
            {
                "data": {},
                "nodeTo": "236611_43"
            },
            {
                "data": {},
                "nodeTo": "236612_45"
            }
        ],
        "data": {
            "$dim": 16.759175934208628,
            "$height": 50,
            "$type": "star",
            "some other key": "some other value"
        },
        "id": "190_0",
        "name": "Pearl Jam"
    }
];
//end
    //init Hypertree
    var ht = new $jit.Hypertree({
        //id of the visualization container
        injectInto: 'infovis',
        //By setting overridable=true,
        //Node and Edge global properties can be
        //overriden for each node/edge.
        Node: {
            overridable: true,
            'transform': false,
            color: "#f00"
        },
        
        Edge: {
            overridable: true,
            color: "#0f0"
        },
        //calculate nodes offset
        offset: 0.2,
        //Change the animation transition type
        transition: $jit.Trans.Back.easeOut,
        //animation duration (in milliseconds)
        duration:1000,
        
        //This method is called right before plotting an
        //edge. This method is useful for adding individual
        //styles to edges.
        onBeforePlotLine: function(adj){
            //Set random lineWidth for edges.
            if (!adj.data.$lineWidth) 
                // adj.data.$lineWidth = Math.random() * 7 + 1;
                adj.data.$lineWidth = 1;
        },
        
        onBeforeCompute: function(node){
            Log.write("centering");
        },
        //Attach event handlers on label creation.
        onCreateLabel: function(domElement, node){
            domElement.innerHTML = node.name;
            domElement.style.cursor = "pointer";
            domElement.onclick = function () {
                ht.onClick(node.id, { 
                    hideLabels: false,
                    onComplete: function() {
                      ht.controller.onComplete();
                    }
                });
            };
        },
        //This method is called when moving/placing a label.
        //You can add some positioning offsets to the labels here.
        onPlaceLabel: function(domElement, node){
            var width = domElement.offsetWidth;
            var intX = parseInt(domElement.style.left);
            intX -= width / 2;
            domElement.style.left = intX + 'px';
        },
        
        onComplete: function(){
            Log.write("done");

            //Make the relations list shown in the right column.
            var node = ht.graph.getClosestNodeToOrigin("current");
            var html = "<h4>" + node.name + "</h4><b>Connections:</b>";
            html += "<ul>";
            node.eachAdjacency(function(adj){
                var child = adj.nodeTo;
                html += "<li>" + child.name + "</li>";
            });
            html += "</ul>";
            $jit.id('inner-details').innerHTML = html;
        }
    });
    //load JSON graph.
    ht.loadJSON(json, 2);
    //compute positions and plot
    ht.refresh();
    //end
    ht.controller.onBeforeCompute(ht.graph.getNode(ht.root));
    ht.controller.onComplete();
}
    
